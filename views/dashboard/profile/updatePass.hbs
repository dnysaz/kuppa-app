{{set "title" title}}
{{set "description" description}}

<section>
    {{> brandHeader}}
    {{> submenu}}

    <div class="gap-8 max-w-xl mb-4">
        
        {{> flashMessage}}

        <div class="lg:col-span-2 bg-white border border-neutral-200 rounded-xl p-8 shadow-sm">
            {{#if (eq loginProvider "email")}}
                {{!-- Form for Email/Password Users --}}
                <form action="{{route 'profile.password.update'}}" method="POST" class="space-y-8">
                    <div class="max-w-md space-y-6">
                        {{!-- Current Password --}}
                        <div class="space-y-2">
                            <label for="currentPassword" class="text-[10px] font-bold uppercase tracking-widest text-neutral-400">Current Password</label>
                            <input 
                                type="password" 
                                id="currentPassword" 
                                name="currentPassword" 
                                placeholder="••••••••"
                                required
                                class="w-full px-4 py-3 bg-neutral-50 border {{#if flash_error}}border-red-200{{else}}border-neutral-200{{/if}} rounded-lg text-sm font-semibold text-neutral-800 focus:outline-none focus:ring-2 focus:ring-black/5 focus:border-black transition-all"
                            >
                        </div>

                        <hr class="border-neutral-100">

                        {{!-- New Password --}}
                        <div class="space-y-2">
                            <label for="newPassword" class="text-[10px] font-bold uppercase tracking-widest text-neutral-400">New Password</label>
                            <input 
                                type="password" 
                                id="newPassword" 
                                name="newPassword" 
                                placeholder="••••••••"
                                required
                                class="w-full px-4 py-3 bg-neutral-50 border {{#if flash_error}}border-red-200{{else}}border-neutral-200{{/if}} rounded-lg text-sm font-semibold text-neutral-800 focus:outline-none focus:ring-2 focus:ring-black/5 focus:border-black transition-all"
                            >
                        </div>

                        {{!-- Confirm New Password --}}
                        <div class="space-y-2">
                            <label for="newPassword_confirmation" class="text-[10px] font-bold uppercase tracking-widest text-neutral-400">Confirm New Password</label>
                            <input 
                                type="password" 
                                id="newPassword_confirmation"
                                name="newPassword_confirmation" 
                                placeholder="••••••••"
                                required
                                class="w-full px-4 py-3 bg-neutral-50 border {{#if flash_error}}border-red-200{{else}}border-neutral-200{{/if}} rounded-lg text-sm font-semibold text-neutral-800 focus:outline-none focus:ring-2 focus:ring-black/5 focus:border-black transition-all"
                            >
                        </div>
                    </div>

                    <div class="pt-8 border-t border-neutral-100 flex items-center justify-end">
                        <button type="submit" class="px-8 py-3 bg-black text-white text-xs font-bold uppercase tracking-widest rounded-lg hover:bg-neutral-800 transition-all shadow-lg shadow-black/10 active:scale-95">
                            Update Password
                        </button>
                    </div>
                </form>
            {{else}}
                {{!-- Message for Social Provider Users (Google, Github, etc) --}}
                <div class="py-12 flex flex-col items-center text-center max-w-lg mx-auto">
                    <div class="w-16 h-16 bg-neutral-50 rounded-full flex items-center justify-center mb-6">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-neutral-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                        </svg>
                    </div>
                    <h3 class="text-lg font-black text-black">External Authentication</h3>
                    <p class="text-sm text-neutral-500 mt-3 leading-relaxed">
                        You are currently authenticated via <span class="font-bold text-black uppercase">{{ loginProvider }}</span>. 
                        Your password management is handled directly by the provider. Please visit your <span class="capitalize">{{ loginProvider }}</span> account settings to update your security credentials.
                    </p>
                    <div class="mt-8">
                        <a href="{{route 'dashboard'}}" class="px-6 py-3 bg-neutral-100 text-black text-[10px] font-bold uppercase tracking-widest rounded-lg hover:bg-neutral-200 transition-all">
                            Back to Dashboard
                        </a>
                    </div>
                </div>
            {{/if}}
        </div>
    </div>
</section>